---
import Layout from '#layout'
import type { GetStaticPaths } from 'astro'
import { getCollection } from 'astro:content'
import BlogLayout from '#containers/blog/Layout.astro'

export const getStaticPaths: GetStaticPaths = async ({ paginate }) => {
  const posts = await getCollection('posts')
  return paginate(posts, { pageSize: 3 })
}

export interface Props extends Paginated<'posts'> {}

const { page } = Astro.props
---

<Layout>
  <BlogLayout ctx={page} />
</Layout>
