---
import Layout from '#layout'
import type { GetStaticPaths } from 'astro'
import { getCollection, type CollectionEntry } from 'astro:content'
import Mdx from '#components/mdx/Mdx.astro'
import SnippetLayout from '#containers/snippets/SnippetLayout.astro'

export const getStaticPaths: GetStaticPaths = async () => {
  const snippets = await getCollection('snippets')
  return snippets.map(snippet => ({
    params: { id: snippet.slug },
    props: { snippet: snippet },
  }))
}

export interface Props {
  snippet: CollectionEntry<'snippets'>
}

const { snippet } = Astro.props
---

<Layout>
  <SnippetLayout payload={snippet}>
    <h1>{snippet.data.title}</h1>
  </SnippetLayout>
</Layout>

<style>
  /* article {
    display: grid;
  } */
</style>
